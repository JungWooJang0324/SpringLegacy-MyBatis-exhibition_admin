<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.exhbition.board">

<!-- 게시판 조회 -->
<select id="selectBoard" resultType="kr.co.exhibitionThreeAdmin.board.domain.AdminBoardDomain" parameterType="sVO">
	select *
	from(select rownum as rnum, bd_id, title, userid, input_date, cat_name, adminid
			from(SELECT b.bd_id, b.title, b.userid, b.input_date, b.adminid, cat.cat_name
						from Board	b
						right outer join	category cat
						on cat.cat_num = b.cat_num
						<where>
					  		<if test="keyword !=null and keyword!=''">
								and ${option} like '%'||${keyword}||'%'
							</if>
						</where>
						order by input_date desc)
				<![CDATA[ where rownum <= 10]]> )
	where rnum >= 1  order by rnum
</select>
</mapper>